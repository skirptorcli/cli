project:
  name: Vite with Tailwind CSS
  description: A Vite project with Tailwind CSS

steps:
  - name: Ask for project name
    type: ask_user
    question: What is the name of your project?
    variable: projectName

  - name: Create project directory
    type: create_directory
    path: ./{{user_input_projectName}}

  - name: Create Vite project
    type: run_command
    command: npm create vite@latest ./ -- --template react
    cwd: ./{{user_input_projectName}}

  - name: Install Tailwind CSS
    type: run_command
    command: npm install -D tailwindcss postcss autoprefixer
    cwd: ./{{user_input_projectName}}

  - name: Initialize Tailwind CSS
    type: run_command
    command: npx tailwindcss init -p
    cwd: ./{{user_input_projectName}}

  - name: Configure Tailwind CSS
    type: create_file
    path: ./{{user_input_projectName}}/tailwind.config.js
    content: |
      /** @type {import('tailwindcss').Config} */
      export default {
        content: [
          "./index.html",
          "./src/**/*.{js,ts,jsx,tsx}",
        ],
        theme: {
          extend: {},
        },
        plugins: [],
      }

  - name: Add Tailwind directives to CSS
    type: create_file
    path: ./{{user_input_projectName}}/src/index.css
    content: |
      @tailwind base;
      @tailwind components;
      @tailwind utilities;

  - name: Update package.json
    type: update_file
    path: ./{{user_input_projectName}}/package.json
    instructions: |
      Add a "dev" script with the value "vite".

  - name: Start build process
    type: run_command
    command: npm run build
    cwd: ./{{user_input_projectName}}

  - name: Create App component
    type: create_file
    path: ./{{user_input_projectName}}/src/App.jsx
    content: |
      export default function App() {
        return (
          <h1 className="text-3xl font-bold underline">
            Hello world!
          </h1>
          )
        }
